(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{119:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var r=a(82),n=a.n(r),c=a(85),s=a(83);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var i=a(86),u=a(87),l=a(90),m=a(89),h=a(0),p=a.n(h),f=a(12),d=a(84),v=a(88),b=a.n(v),y=(a(119),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,u=new Array(r),l=0;l<r;l++)u[l]=arguments[l];return(e=t.call.apply(t,[this].concat(u))).state={movies:[],search:"",message:""},e.addSearchQuery=function(t){var a=t.target,r=a.name,n=a.value;e.setState(o({},r,n))},e.handleQueryOnSubmit=function(t){t.preventDefault();var a=e.state.search;a&&(e.searchRequest(a),e.props.history.push({search:"query=".concat(a),state:{search:a}}))},e.searchRequest=function(){var t=Object(s.a)(n.a.mark((function t(a){var r,s,o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(d.c)(a),t.prev=1,t.next=4,Object(d.a)("get",r);case 4:s=t.sent,e.setState({movies:Object(c.a)(s.results)}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),o=t.t0.message,e.setState({message:o});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){if(this.props.location.state){var e=this.props.location.state.search;this.setState({search:e}),e&&this.searchRequest(e)}}},{key:"render",value:function(){var e=this.state,t=e.search,a=e.movies,r=e.message,n=this.props.match;return p.a.createElement("div",{className:"Container"},p.a.createElement("div",{className:"Searchbar"},p.a.createElement("form",{className:"SearchForm",onSubmit:this.handleQueryOnSubmit},p.a.createElement("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search films",name:"search",value:t,onChange:this.addSearchQuery}),p.a.createElement("button",{type:"submit",className:"SearchForm-button"},p.a.createElement("span",{className:"SearchForm-button-label"},"Search")))),r&&p.a.createElement("h2",{className:"Error"},"Whoops, something went wrong: ",r),a.length>0&&p.a.createElement("ul",{className:"MovieList"},a.map((function(e){return p.a.createElement("li",{key:e.id,className:"MovieCard"},p.a.createElement(f.b,{to:{pathname:"".concat(n.url,"/").concat(e.id),state:{from:"".concat(n.url),search:"".concat(t)}},className:"CardLink"},p.a.createElement("div",{className:"CardPoster"},e.poster_path?p.a.createElement("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.poster_path),alt:e.title}):p.a.createElement("img",{src:b.a,alt:e.title})),p.a.createElement("h3",{className:"CardTitle"},e.title),p.a.createElement("span",{className:"CardReleaseDate"},e.release_date)))}))))}}]),a}(h.Component));t.default=y},84:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return h}));var r=a(82),n=a.n(r),c=a(83),s=a(91),o=a.n(s),i="https://api.themoviedb.org/3",u=function(e){return"".concat(e,"api_key=").concat("52da0e57d9a232f6b27d3bf8ef59ccfd")},l=function(e){return u("".concat(i,"/search/movie?query=").concat(e,"&"))},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/trending/movie/day";return u("".concat(i).concat(e,"?"))},h=function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c,s=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:null,e.next=3,o.a[t](a,r);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},85:function(e,t,a){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return n}))},88:function(e,t,a){e.exports=a.p+"static/media/default-img.80360e3f.jpg"}}]);
//# sourceMappingURL=movies-page.49f90a97.chunk.js.map