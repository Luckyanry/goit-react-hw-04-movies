{"version":3,"sources":["containers/HomePage/HomePage.js","helpers/request.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","img/default-img.jpg"],"names":["Home","state","movies","message","URL","requestMovieUrl","request","result","this","setState","results","className","length","map","movie","key","id","to","pathname","from","poster_path","src","alt","title","defaultImg","release_date","Component","baseUrl","withCredentials","url","process","searchMoviesUrl","query","urlType","method","a","body","axios","data","_arrayLikeToArray","arr","len","i","arr2","Array","_toConsumableArray","isArray","iter","Symbol","iterator","Object","o","minLen","n","prototype","toString","call","slice","constructor","name","test","TypeError","module","exports"],"mappings":"6RAMMA,G,mNACJC,MAAQ,CACNC,OAAQ,GACRC,QAAS,I,6LAIHC,EAAMC,c,kBAGWC,YAAQ,MAAOF,G,OAA9BG,E,OAENC,KAAKC,SAAS,CACZP,OAAO,YAAKK,EAAOG,W,gDAGfP,EAAU,KAAMA,QACtBK,KAAKC,SAAS,CAAEN,Y,8IAIV,IAAD,EACqBK,KAAKP,MAAzBC,EADD,EACCA,OAAQC,EADT,EACSA,QAEhB,OACE,yBAAKQ,UAAU,aACb,wBAAIA,UAAU,SAAd,kBACCR,GACC,wBAAIQ,UAAU,SAAd,iCAAqDR,GAEtDD,EAAOU,OAAS,GACf,wBAAID,UAAU,YACXT,EAAOW,KAAI,SAACC,GAAD,OACV,wBAAIC,IAAKD,EAAME,GAAIL,UAAU,YAC3B,kBAAC,IAAD,CACEM,GAAI,CACFC,SAAS,UAAD,OAAYJ,EAAME,IAC1Bf,MAAO,CACLkB,KAAM,MAGVR,UAAU,gBAEV,yBAAKA,UAAU,kBACZG,EAAMM,YACL,yBACEC,IAAG,yCAAoCP,EAAMM,aAC7CE,IAAKR,EAAMS,QAGb,yBAAKF,IAAKG,IAAYF,IAAKR,EAAMS,SAGrC,wBAAIZ,UAAU,iBAAiBG,EAAMS,OACrC,0BAAMZ,UAAU,uBACbG,EAAMW,yB,GAvDRC,cAmEJ1B,a,oLCvET2B,EAAO,+BAEAC,EAAkB,SAACC,GAC9B,MAAM,GAAN,OAAUA,EAAV,mBAAwBC,qCAGbC,EAAkB,SAACC,GAC9B,OAAOJ,EAAgB,GAAD,OAAID,EAAJ,+BAAkCK,EAAlC,OAGX3B,EAAkB,WAAsC,IAArC4B,EAAoC,uDAA1B,sBACxC,OAAOL,EAAgB,GAAD,OAAID,GAAJ,OAAcM,EAAd,OAGX3B,EAAO,uCAAG,WAAO4B,EAAQL,GAAf,6BAAAM,EAAA,6DAAoBC,EAApB,+BAA2B,KAA3B,SACAC,IAAMH,GAAQL,EAAKO,GADnB,cACf7B,EADe,yBAEdA,EAAO+B,MAFO,2CAAH,yD,gCChBL,SAASC,EAAkBC,EAAKC,IAClC,MAAPA,GAAeA,EAAMD,EAAI5B,UAAQ6B,EAAMD,EAAI5B,QAE/C,IAAK,IAAI8B,EAAI,EAAGC,EAAO,IAAIC,MAAMH,GAAMC,EAAID,EAAKC,IAC9CC,EAAKD,GAAKF,EAAIE,GAGhB,OAAOC,ECHM,SAASE,EAAmBL,GACzC,OCJa,SAA4BA,GACzC,GAAII,MAAME,QAAQN,GAAM,OAAO,EAAiBA,GDGzC,CAAkBA,IELZ,SAA0BO,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOH,MAAMzB,KAAK4B,GFIvD,CAAgBP,IGJpC,SAAqCW,EAAGC,GACrD,GAAKD,EAAL,CACA,GAAiB,kBAANA,EAAgB,OAAO,EAAiBA,EAAGC,GACtD,IAAIC,EAAIH,OAAOI,UAAUC,SAASC,KAAKL,GAAGM,MAAM,GAAI,GAEpD,MADU,WAANJ,GAAkBF,EAAEO,cAAaL,EAAIF,EAAEO,YAAYC,MAC7C,QAANN,GAAqB,QAANA,EAAoBT,MAAMzB,KAAKkC,GACxC,cAANA,GAAqB,2CAA2CO,KAAKP,GAAW,EAAiBF,EAAGC,QAAxG,GHFyD,CAA2BZ,IILvE,WACb,MAAM,IAAIqB,UAAU,wIJIwE,G,sDKL9FC,EAAOC,QAAU,IAA0B","file":"static/js/home-page.20fa3103.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { request, requestMovieUrl } from \"../../helpers/request\";\nimport defaultImg from \"../../img/default-img.jpg\";\nimport \"./HomePage.css\";\n\nclass Home extends Component {\n  state = {\n    movies: [],\n    message: \"\",\n  };\n\n  async componentDidMount() {\n    const URL = requestMovieUrl();\n\n    try {\n      const result = await request(\"get\", URL);\n\n      this.setState({\n        movies: [...result.results],\n      });\n    } catch (error) {\n      const message = error.message;\n      this.setState({ message });\n    }\n  }\n\n  render() {\n    const { movies, message } = this.state;\n\n    return (\n      <div className=\"Container\">\n        <h1 className=\"Title\">Trending today</h1>\n        {message && (\n          <h2 className=\"Error\">Whoops, something went wrong: {message}</h2>\n        )}\n        {movies.length > 0 && (\n          <ul className=\"HomeList\">\n            {movies.map((movie) => (\n              <li key={movie.id} className=\"HomeCard\">\n                <NavLink\n                  to={{\n                    pathname: `/movie/${movie.id}`,\n                    state: {\n                      from: \"/\",\n                    },\n                  }}\n                  className=\"HomeCardLink\"\n                >\n                  <div className=\"HomeCardPoster\">\n                    {movie.poster_path ? (\n                      <img\n                        src={`https://image.tmdb.org/t/p/w200${movie.poster_path}`}\n                        alt={movie.title}\n                      />\n                    ) : (\n                      <img src={defaultImg} alt={movie.title} />\n                    )}\n                  </div>\n                  <h3 className=\"HomeCardTitle\">{movie.title}</h3>\n                  <span className=\"HomeCardReleaseDate\">\n                    {movie.release_date}\n                  </span>\n                </NavLink>\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import axios from \"axios\";\n\nconst baseUrl = `https://api.themoviedb.org/3`;\n\nexport const withCredentials = (url) => {\n  return `${url}api_key=${process.env.REACT_APP_API_KEY}`;\n};\n\nexport const searchMoviesUrl = (query) => {\n  return withCredentials(`${baseUrl}/search/movie?query=${query}&`);\n};\n\nexport const requestMovieUrl = (urlType = \"/trending/movie/day\") => {\n  return withCredentials(`${baseUrl}${urlType}?`);\n};\n\nexport const request = async (method, url, body = null) => {\n  const result = await axios[method](url, body);\n  return result.data;\n};\n\n/*\nhttps://api.themoviedb.org/3/trending/movie/day?api_key=<<api_key>> - список самых популярных фильмов на сегодня для создания коллекции на главной странице.\nhttps://api.themoviedb.org/3/search/movie?api_key=<<api_key>>&query=Max - поиск кинофильма по ключевому слову на странице фильмов.\nhttps://api.themoviedb.org/3/movie/{movie_id}?api_key=<<api_key>> - запрос полной информации о фильме для страницы кинофильма.\nhttps://api.themoviedb.org/3/movie/{movie_id}/credits?api_key=<<api_key>> - запрос информации о актёрском составе для страницы кинофильма.\nhttps://api.themoviedb.org/3/movie/{movie_id}/reviews?api_key=<<api_key>> - запрос обзоров для страницы кинофильма.\n*/\n\n// export const getMovieReviewsUrl = (id) => {\n//   return withCredentials(`https://api.themoviedb.org/3/movie/${id}/reviews?`);\n// };\n\n// export const getMovieCreditsUrl = (id) => {\n//   return withCredentials(`https://api.themoviedb.org/3/movie/${id}/credits?`);\n// };\n\n// export const getMovieDetails = (id) => {\n//   return withCredentials(`https://api.themoviedb.org/3/movie/${id}?`);\n// };\n\n// export const getTrendingMovieUrl = () => {\n//   return withCredentials(`https://api.themoviedb.org/3/trending/movie/day?`);\n// };\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","module.exports = __webpack_public_path__ + \"static/media/default-img.80360e3f.jpg\";"],"sourceRoot":""}